<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClipCite <em>Alpha</em>- Fair Use Citation Infrastructure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #00d4ff;
            padding-bottom: 20px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        header p {
            font-size: 1.1em;
            color: #888;
            max-width: 600px;
            margin: 0 auto;
        }

        .principle {
            background: rgba(0, 212, 255, 0.1);
            border-left: 4px solid #00d4ff;
            padding: 15px 20px;
            margin: 15px 0;
            font-style: italic;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            color: #e0e0e0;
            cursor: pointer;
            border-radius: 6px;
            font-size: 1em;
            transition: all 0.3s;
        }

        .tab-button.active {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            color: #00d4ff;
        }

        .tab-button:hover {
            background: rgba(0, 212, 255, 0.15);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #00d4ff;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="number"],
        input[type="url"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 6px;
            color: #000;
            font-family: inherit;
            font-size: 1em;
            transition: all 0.3s;
        }

        select {
            color: #000;
        }

        select option {
            color: #000;
            background: #fff;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #00d4ff;
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: 'Monaco', 'Courier New', monospace;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-item,
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="radio"],
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #00d4ff;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            border: none;
            color: #1a1a2e;
            font-weight: 700;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            min-width: 120px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        .secondary-button {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            border: 1px solid #00d4ff;
        }

        .danger-button {
            background: rgba(255, 100, 100, 0.3);
            color: #ff6464;
            border: 1px solid #ff6464;
        }

        .clip-preview {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .clip-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .clip-title {
            font-size: 1.3em;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 10px;
        }

        .clip-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .meta-field {
            background: rgba(0, 212, 255, 0.05);
            padding: 10px;
            border-radius: 4px;
            border-left: 3px solid #00d4ff;
        }

        .meta-label {
            font-weight: 600;
            color: #00d4ff;
            display: block;
            font-size: 0.85em;
            margin-bottom: 4px;
        }

        .meta-value {
            color: #e0e0e0;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .status-compliant {
            background: rgba(76, 175, 80, 0.3);
            color: #4caf50;
            border: 1px solid #4caf50;
        }

        .status-dmca {
            background: rgba(255, 193, 7, 0.3);
            color: #ffc107;
            border: 1px solid #ffc107;
        }

        .status-removed {
            background: rgba(244, 67, 54, 0.3);
            color: #f44336;
            border: 1px solid #f44336;
        }

        .status-under-review {
            background: rgba(33, 150, 243, 0.3);
            color: #2196f3;
            border: 1px solid #2196f3;
        }

        .dmca-notice {
            background: rgba(255, 193, 7, 0.1);
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }

        .dmca-notice h3 {
            color: #ffc107;
            margin-bottom: 10px;
        }

        .citation-box {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(0, 212, 255, 0.3);
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.95em;
            margin: 15px 0;
            word-break: break-all;
            color: #a0e0ff;
        }

        .copy-button {
            padding: 6px 12px;
            font-size: 0.85em;
            min-width: auto;
        }

        .success-message {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4caf50;
            color: #4caf50;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .error-message {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
            color: #ff6464;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .info-box {
            background: rgba(33, 150, 243, 0.1);
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            line-height: 1.6;
        }

        .two-column {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-button {
                width: 100%;
            }

            .card {
                padding: 20px;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                width: 100%;
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999 !important;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: flex-start;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.show {
            display: flex !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            position: relative;
            margin-top: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            cursor: pointer;
            color: #00d4ff;
            background: none;
            border: none;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            color: #0099ff;
            transform: scale(1.2);
        }

        .modal h2 {
            color: #00d4ff;
            margin-bottom: 20px;
            margin-top: 0;
            padding-top: 0;
        }

        .modal h3 {
            color: #00d4ff;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .modal p {
            line-height: 1.8;
            color: #e0e0e0;
            margin-bottom: 15px;
        }

        .modal ul {
            margin-left: 20px;
            line-height: 2;
            color: #e0e0e0;
        }

        .modal li {
            margin-bottom: 10px;
        }

        .modal ol {
            margin-left: 20px;
            line-height: 2;
            color: #e0e0e0;
        }

        .modal-info-box {
            background: rgba(33, 150, 243, 0.08);
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            line-height: 1.6;
        }

        .modal-success-box {
            background: rgba(76, 175, 80, 0.08);
            border-left: 4px solid #4caf50;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .modal-content {
                padding: 20px;
                max-width: 100%;
                margin-top: 20px;
                margin-bottom: 20px;
            }

            .modal-close {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ClipCite <em>Alpha</em></h1>
            <p>Fair Use Citation Infrastructure for Video Culture</p>
            <div class="principle">
                üí° Assume educational intent. Provide structure for due diligence. Document compliance efforts.
            </div>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="intro">About</button>
            <button class="tab-button" data-tab="upload">Upload/Link Clip</button>
            <button class="tab-button" data-tab="my-clips">My Clips</button>
            <button class="tab-button modal-trigger" onclick="openModal('dmca-guide')">DMCA Guide</button>
            <button class="tab-button modal-trigger" onclick="openModal('legal')">Legal Framework</button>
        </div>

        <!-- INTRO TAB -->
        <div id="intro" class="tab-content active">
            <div class="card">
                <h2>What is ClipCite?</h2>
                <p style="margin-top: 15px; line-height: 1.8;">
                    ClipCite is public infrastructure for fair use citation. We recognize that quotation has changed‚Äîthe clip IS the quote. A 20-second scene with "this." as a comment is a complete thought. A 7-minute sequence that captures everything a two-page quote would is necessary scholarship.
                </p>
                <p style="margin-top: 15px; line-height: 1.8;">
                    We assume your intent is educational or commentary. We provide structure so you can document that intent. We keep records of every claim, every response, and every action. If your work is challenged, you have a documented record of good faith.
                </p>
                <p style="margin-top: 15px; line-height: 1.8;">
                    <strong>We do not auto-comply with takedowns.</strong> Copyright holders can make claims. You have the right to respond with fair use arguments. We document everything, which strengthens your position if challenged in court.
                </p>
            </div>

            <div class="card">
                <h2>Core Principles</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div>
                        <h3 style="color: #00d4ff; margin-bottom: 10px;">üé¨ Assume Good Faith</h3>
                        <p>We default to educational/commentary use unless proven otherwise.</p>
                    </div>
                    <div>
                        <h3 style="color: #00d4ff; margin-bottom: 10px;">üìã Document Everything</h3>
                        <p>Metadata, claims, responses, and actions are all recorded for legal clarity.</p>
                    </div>
                    <div>
                        <h3 style="color: #00d4ff; margin-bottom: 10px;">‚öñÔ∏è No Automation</h3>
                        <p>No automated takedowns. Every claim gets review and user response opportunity.</p>
                    </div>
                    <div>
                        <h3 style="color: #00d4ff; margin-bottom: 10px;">üõ°Ô∏è Fair Use Support</h3>
                        <p>Structure that strengthens your fair use defense if legally challenged.</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>How It Works</h2>
                <div style="margin-top: 20px; line-height: 2;">
                    <p><strong style="color: #00d4ff;">1. Upload or Link</strong> - Provide your clip (as a file or link to existing video)</p>
                    <p><strong style="color: #00d4ff;">2. Add Context</strong> - Title, timestamp, description, purpose, keywords</p>
                    <p><strong style="color: #00d4ff;">3. Auto-Generate Citation</strong> - Proper attribution in multiple formats</p>
                    <p><strong style="color: #00d4ff;">4. Publish</strong> - Your clip is public with full metadata visible</p>
                    <p><strong style="color: #00d4ff;">5. If Challenged</strong> - DMCA notice logged, you get notified, you respond with fair use argument</p>
                    <p><strong style="color: #00d4ff;">6. Documentation</strong> - All records kept for legal clarity</p>
                    <p><strong style="color: #00d4ff;">7. You Choose</strong> - Keep clip public (DMCA claims visible in metadata) or privatize it. All challenges &amp; your rebuttals become part of the permanent, public record‚Äîso copyright holders think twice before making frivolous claims.</p>
                </div>
            </div>

            <div class="card">
                <h2>Our Position: Free Speech Before Corporate Takedown</h2>
                <div style="background: rgba(244, 67, 54, 0.1); border-left: 4px solid #f44336; padding: 20px; margin: 20px 0; border-radius: 6px;">
                    <p style="margin-bottom: 15px; font-size: 1.1em; font-weight: 600; color: #f44336;">
                        We prioritize your right to quote, discuss, and comment over corporate pressure to suppress that speech.
                    </p>
                    <p style="margin-bottom: 15px; line-height: 1.8;">
                        <strong>How we do this:</strong>
                    </p>
                    <ul style="margin-left: 20px; line-height: 2;">
                        <li><strong>We document everything.</strong> When a copyright holder claims your clip infringes, it's logged publicly. Your response is logged publicly. The entire record is transparent.</li>
                        <li><strong>We give you responsibility.</strong> You acknowledge fair use is your responsibility. We're not pretending to protect you‚Äîwe're providing infrastructure to strengthen your actual defense.</li>
                        <li><strong>We handle DMCA transparently.</strong> No auto-takedowns. No hidden algorithms. Claims are reviewed and you get to respond. If you keep your clip public, everyone can see the challenge and your rebuttal.</li>
                        <li><strong>You control visibility.</strong> Want to keep your clip public and show the world that a copyright holder tried to suppress it? Do it. Want to make it private? That's your choice too. But the DMCA record stays public‚Äîyour claim to fair use is documented forever.</li>
                    </ul>
                </div>

                <h3 style="color: #00d4ff; margin-top: 30px; margin-bottom: 15px;">Why This Matters</h3>
                <p style="line-height: 1.8;">
                    When copyright holders know their claims will be <strong>visible to the public</strong> and that <strong>users can respond publicly</strong>, frivolous claims drop dramatically. They can't silently suppress speech anymore. They have to defend their claims in front of an audience.
                </p>
                <p style="margin-top: 15px; line-height: 1.8;">
                    Transparency is the best defense against abuse of power.
                </p>
            </div>
        </div>

        <!-- UPLOAD TAB -->
        <div id="upload" class="tab-content">
            <div class="card">
                <h2>Upload or Link a Clip</h2>
                <div class="info-box">
                    <strong>Fair Use Note:</strong> You're responsible for your use. We provide structure to document it. Uploading here doesn't guarantee protection‚Äîit means we've documented your good faith and educational intent for your defense.
                </div>

                <form id="clipForm">
                    <!-- Source Selection -->
                    <div class="form-group">
                        <label>Clip Source</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="sourceUpload" name="sourceType" value="UPLOAD" checked>
                                <label for="sourceUpload" style="margin: 0;">Upload video file (MP4, WebM, etc.)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sourceLink" name="sourceType" value="LINK">
                                <label for="sourceLink" style="margin: 0;">Link to existing video (YouTube, Vimeo, streaming service)</label>
                            </div>
                        </div>
                    </div>

                    <!-- Upload or Link Input -->
                    <div class="form-group" id="uploadInputGroup">
                        <label for="videoFile">Video File</label>
                        <input type="file" id="videoFile" accept="video/*">
                        <small style="color: #888; display: block; margin-top: 8px;">MP4, WebM, MOV, or other video formats</small>
                    </div>

                    <div class="form-group" id="linkInputGroup" style="display: none;">
                        <label for="videoUrl">Video URL</label>
                        <input type="url" id="videoUrl" placeholder="https://www.youtube.com/watch?v=...">
                        <small style="color: #888; display: block; margin-top: 8px;">Link to the source video</small>
                    </div>

                    <!-- Auto-Applied Metadata -->
                    <div class="form-group">
                        <label>Film/Show Information (Auto-Detected, can edit)</label>
                        <div class="two-column">
                            <div>
                                <label style="font-size: 0.9em;">Title *</label>
                                <input type="text" id="title" placeholder="e.g., Blade Runner 2049" required>
                            </div>
                            <div>
                                <label style="font-size: 0.9em;">Release Year</label>
                                <input type="number" id="releaseYear" placeholder="e.g., 2017" min="1900">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Copyright Holder</label>
                        <input type="text" id="copyrightHolder" placeholder="e.g., Warner Bros. Pictures">
                    </div>

                    <!-- Timestamps -->
                    <div class="form-group">
                        <label>Clip Timestamps (approximate, in seconds)</label>
                        <div class="two-column">
                            <div>
                                <label style="font-size: 0.9em;">Start Time</label>
                                <input type="number" id="startTime" placeholder="0" min="0">
                            </div>
                            <div>
                                <label style="font-size: 0.9em;">End Time</label>
                                <input type="number" id="endTime" placeholder="30" min="0">
                            </div>
                        </div>
                    </div>

                    <!-- User-Submitted Metadata -->
                    <div class="form-group">
                        <label for="description">What does this clip show? Why does it matter? *</label>
                        <textarea id="description" placeholder="Describe the scene, the context, what it illustrates. Be specific about why you're citing it." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="purpose">Purpose of Quotation *</label>
                        <select id="purpose" required>
                            <option value="">-- Select Purpose --</option>
                            <option value="ACADEMIC_ESSAY">Academic Essay / Paper</option>
                            <option value="DISCUSSION">Discussion / Analysis</option>
                            <option value="COMMENTARY">Commentary / Criticism</option>
                            <option value="CULTURAL_REFERENCE">Cultural Reference / Dialogue</option>
                            <option value="OTHER">Other (describe in notes)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="keywords">Keywords (comma-separated)</label>
                        <input type="text" id="keywords" placeholder="e.g., dystopia, artificial intelligence, loneliness, isolation">
                        <small style="color: #888; display: block; margin-top: 8px;">These help others find your clip when researching similar themes</small>
                    </div>

                    <div class="form-group">
                        <label for="subject">Subject / Category Tag</label>
                        <input type="text" id="subject" placeholder="e.g., Philosophy, Science Fiction, Technology, Ethics">
                    </div>

                    <!-- Fair Use Acknowledgment -->
                    <div class="form-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="fairUseAck" required>
                            <label for="fairUseAck" style="margin: 0;">
                                I understand that I am responsible for ensuring my use qualifies as fair use. I acknowledge that copyright holders may challenge this, and that ClipCite's documentation of my intent strengthens my defense but does not guarantee protection.
                            </label>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="submit">Submit Clip</button>
                        <button type="reset" class="secondary-button">Clear Form</button>
                    </div>
                </form>

                <div id="submitMessage"></div>
            </div>
        </div>

        <!-- MY CLIPS TAB -->
        <div id="my-clips" class="tab-content">
            <div class="card">
                <h2>Your Submissions</h2>
                <div id="clipsContainer" style="margin-top: 20px;">
                    <p style="color: #888;">No clips submitted yet. <button class="tab-button" onclick="switchTab('upload')" style="margin-left: 10px; padding: 8px 16px;">Upload your first clip</button></p>
                </div>
            </div>
        </div>

    <!-- MODALS (Outside container so they're always visible) -->
    <!-- DMCA GUIDE MODAL -->
    <div id="dmca-guide" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('dmca-guide')">&times;</button>
            <h2>Understanding DMCA Notices</h2>

                <h3>What is a DMCA Notice?</h3>
                <p>
                    The Digital Millennium Copyright Act (DMCA) allows copyright holders to send takedown notices to platforms. However, the DMCA also includes a critical protection: fair use is a legal defense. If your use qualifies as fair use, you can dispute the notice.
                </p>

                <h3>How ClipCite Handles DMCA Notices</h3>
                <div style="background: rgba(0, 212, 255, 0.05); padding: 20px; border-radius: 6px; margin: 20px 0; line-height: 1.8;">
                    <p><strong>1. Notice Received</strong> - A copyright holder claims your clip infringes their copyright.</p>
                    <p><strong>2. You Are Notified</strong> - ClipCite emails you with full details of the claim.</p>
                    <p><strong>3. You Can Respond</strong> - You have 10 business days to submit a counter-notification arguing fair use.</p>
                    <p><strong>4. Documentation</strong> - All claims and responses are documented in your clip metadata.</p>
                    <p><strong>5. No Auto-Removal</strong> - Your clip stays live while the claim is reviewed. Only if a court orders removal (not a corporate claim) is it taken down.</p>
                </div>

                <h3>Fair Use Factors</h3>
                <div style="background: rgba(76, 175, 80, 0.08); padding: 20px; border-radius: 6px; margin: 20px 0;">
                    <p style="margin-bottom: 15px;">When responding to a DMCA claim, focus on these four legal factors:</p>
                    <p style="margin: 10px 0;"><strong style="color: #4caf50;">1. Purpose and Character</strong> - Is your use transformative? (commentary, criticism, scholarship, education vs. commercial reproduction)</p>
                    <p style="margin: 10px 0;"><strong style="color: #4caf50;">2. Nature of the Work</strong> - What kind of work is it? (transformative uses of creative works get stronger fair use protection)</p>
                    <p style="margin: 10px 0;"><strong style="color: #4caf50;">3. Amount Used</strong> - How much did you use? (using only what's necessary strengthens fair use; a 30-second scene might be necessary, a 7-minute sequence needs stronger justification)</p>
                    <p style="margin: 10px 0;"><strong style="color: #4caf50;">4. Market Impact</strong> - Does your use harm the market for the original? (quoting for commentary usually doesn't; posting the full movie for free does)</p>
                </div>

                <h3>How to Respond to a DMCA Notice</h3>
                <div style="background: rgba(33, 150, 243, 0.08); padding: 20px; border-radius: 6px; margin: 20px 0; line-height: 1.8;">
                    <p><strong>Be specific.</strong> Don't just say "it's fair use." Explain WHY it's fair use using the four factors above.</p>
                    <p style="margin-top: 15px;"><strong>Provide evidence.</strong> If you're using the clip in an essay, link to your essay. If you're analyzing a scene, provide your analysis. Show that your use is transformative.</p>
                    <p style="margin-top: 15px;"><strong>Document the metadata.</strong> Your clip's documented purpose and context (what you selected when uploading) becomes your evidence of intent.</p>
                    <p style="margin-top: 15px;"><strong>Example response:</strong> "This 30-second clip illustrates the film's meditation on loneliness and artificial consciousness, used in my undergraduate essay analyzing sci-fi philosophy. The clip is necessary to let readers see the scene I'm discussing. This is educational commentary, not commercial reproduction."</p>
                </div>

                <h3>Your Rights</h3>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><strong>Fair use exists.</strong> You have the legal right to quote and comment on copyrighted works.</li>
                    <li><strong>Burden of proof.</strong> Copyright holders must prove in court that you're infringing, not the other way around.</li>
                    <li><strong>Documented intent.</strong> ClipCite's metadata structure creates a record of your good faith that strengthens your defense.</li>
                    <li><strong>No auto-compliance.</strong> We don't automatically remove your clip just because someone claims it's infringing.</li>
                </ul>
            </div>
        </div>

        <!-- LEGAL FRAMEWORK TAB -->
        <div id="legal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeModal('legal')">&times;</button>
                <h2>Legal Framework</h2>

                <h3>What Makes ClipCite Different</h3>
                <p style="margin-bottom: 15px;">
                    Most platforms automatically remove content when a copyright holder complains. This outsources judicial decision-making to parties with financial incentive to side with copyright holders. ClipCite takes a different approach:
                </p>

                <div style="background: rgba(0, 212, 255, 0.08); padding: 20px; border-radius: 6px; margin: 20px 0; line-height: 1.8;">
                    <p><strong style="color: #00d4ff;">No Automated Takedowns</strong> - Copyright holders can issue DMCA notices. We log them. We notify you. You have a documented opportunity to respond with fair use arguments. We don't pre-judge on their behalf.</p>
                    <p style="margin-top: 15px;"><strong style="color: #00d4ff;">Fair Use Analysis Stays Human</strong> - Determining fair use requires weighing context, intent, and transformation. That's a legal judgment, not an algorithm's call. Courts make that determination; platforms should not.</p>
                    <p style="margin-top: 15px;"><strong style="color: #00d4ff;">Documentation Creates Legal Clarity</strong> - Every clip, claim, response, and action is logged. If challenged in court, you have a clear record of your good faith intent and effort to comply with copyright law through proper citation.</p>
                </div>

                <h3>Public Infrastructure for Citation Compliance</h3>
                <p style="margin-bottom: 15px;">
                    ClipCite exists as public infrastructure for citation compliance. We're not a distributor of copyrighted content; we're a system for documenting how copyrighted content is being quoted, analyzed, and discussed. This distinction matters legally:
                </p>

                <ul style="margin-left: 20px; line-height: 2;">
                    <li><strong>Documented educational purpose</strong> supports fair use defense</li>
                    <li><strong>Transparent metadata</strong> shows transformative intent</li>
                    <li><strong>User-facing DMCA logging</strong> demonstrates good faith compliance efforts</li>
                    <li><strong>No commercial benefit</strong> to the platform from copyright infringement</li>
                    <li><strong>Systemic support for fair use rights</strong> benefits the public</li>
                </ul>

                <h3>Fair Use Under U.S. Copyright Law</h3>
                <p style="margin-bottom: 15px;">
                    Section 107 of the Copyright Act permits fair use for "purposes such as criticism, comment, news reporting, teaching, scholarship, or research." Your use doesn't need permission if it qualifies as fair use.
                </p>

                <div style="background: rgba(76, 175, 80, 0.08); padding: 20px; border-radius: 6px; margin: 20px 0;">
                    <p style="margin-bottom: 15px;"><strong style="color: #4caf50;">Fair use is determined by four factors (not just copyright holders):</strong></p>
                    <ol style="margin-left: 20px; line-height: 2;">
                        <li>The purpose and character of the use (transformative use favors fair use)</li>
                        <li>The nature of the copyrighted work (using creative works can qualify as fair use)</li>
                        <li>The amount and substantiality of the portion used (only using what's necessary favors fair use)</li>
                        <li>The effect on the market for the original (no market harm favors fair use)</li>
                    </ol>
                </div>

                <h3>Why This Matters</h3>
                <p style="line-height: 1.8;">
                    Video has become how people communicate, share ideas, and quote culture. A mom sharing a 20-second clip that made her cry deserves the same fair use protection as a student quoting a passage from a book. An academic analyzing sci-fi philosophy through clips deserves to do so without automated suppression. ClipCite provides the infrastructure to document that intent and defend those rights.
                </p>
            </div>
        </div>
    </div>
    <!-- End modals - container closes here -->

    <script>
        // Define modal functions globally (outside DOMContentLoaded)
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('show');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // Define switchTab globally so it can be called from onclick
        function switchTab(tabName) {
            const tabContent = document.getElementById(tabName);
            if (tabContent) {
                document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.tab-button:not(.modal-trigger)').forEach(el => el.classList.remove('active'));
                tabContent.classList.add('active');
                
                // Also mark the corresponding button as active
                const buttons = document.querySelectorAll('.tab-button[data-tab="' + tabName + '"]');
                if (buttons.length > 0) {
                    buttons[0].classList.add('active');
                }
            }
        }

        // Wait for DOM to be loaded for other initialization
        document.addEventListener('DOMContentLoaded', function() {

            // Close modal when clicking outside of it
            window.addEventListener('click', function(event) {
                if (event.target && event.target.classList && event.target.classList.contains('modal')) {
                    event.target.classList.remove('show');
                }
            });

            // Tab switching event listeners
            document.querySelectorAll('.tab-button:not(.modal-trigger)').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabName = this.dataset.tab;
                    document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
                    document.querySelectorAll('.tab-button:not(.modal-trigger)').forEach(el => el.classList.remove('active'));
                    document.getElementById(tabName).classList.add('active');
                    this.classList.add('active');
                });
            });

            // Source type toggle
            document.querySelectorAll('input[name="sourceType"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.getElementById('uploadInputGroup').style.display = this.value === 'UPLOAD' ? 'block' : 'none';
                    document.getElementById('linkInputGroup').style.display = this.value === 'LINK' ? 'block' : 'none';
                });
            });

            // Clip storage and management
            let clips = JSON.parse(localStorage.getItem('clipcite_clips')) || [];

            // Generate citation
            function generateCitation(clipData) {
                const title = clipData.title;
                const year = clipData.releaseYear || 'n.d.';
            const holder = clipData.copyrightHolder || 'Unknown Studio';
            const start = clipData.startTime || 0;
            const end = clipData.endTime || 30;
            
            return {
                APA: `[Scene clip from ${title}]. (${year}). ¬© ${holder}. [Video]. Retrieved from ClipCite. Timestamp: ${start}s‚Äì${end}s.`,
                MLA: `"${title}." Directed by Unknown. ${year}, ${holder}. Clip viewed on ClipCite. Timestamp: ${start}s‚Äì${end}s.`,
                Chicago: `${title}. Directed by Unknown. ${holder}, ${year}. Clip quoted in ClipCite. Accessed [date]. Timestamp: ${start}s‚Äì${end}s.`
            };
        }

        // Form submission
        document.getElementById('clipForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const clipData = {
                id: 'clip_' + Date.now(),
                sourceType: document.querySelector('input[name="sourceType"]:checked').value,
                title: document.getElementById('title').value,
                releaseYear: document.getElementById('releaseYear').value,
                copyrightHolder: document.getElementById('copyrightHolder').value,
                startTime: parseInt(document.getElementById('startTime').value) || 0,
                endTime: parseInt(document.getElementById('endTime').value) || 30,
                description: document.getElementById('description').value,
                purpose: document.getElementById('purpose').value,
                keywords: document.getElementById('keywords').value.split(',').map(k => k.trim()),
                subject: document.getElementById('subject').value,
                uploadDate: new Date().toISOString(),
                status: 'COMPLIANT',
                dmcaHistory: [],
                citations: generateCitation({
                    title: document.getElementById('title').value,
                    releaseYear: document.getElementById('releaseYear').value,
                    copyrightHolder: document.getElementById('copyrightHolder').value,
                    startTime: parseInt(document.getElementById('startTime').value) || 0,
                    endTime: parseInt(document.getElementById('endTime').value) || 30
                })
            };

            clips.unshift(clipData);
            localStorage.setItem('clipcite_clips', JSON.stringify(clips));

            const messageDiv = document.getElementById('submitMessage');
            messageDiv.innerHTML = '<div class="success-message">‚úì Clip submitted successfully! Your metadata has been recorded. <button class="tab-button" onclick="switchTab(\'my-clips\')" style="margin-left: 10px; padding: 8px 16px;">View your clips</button></div>';
            
            document.getElementById('clipForm').reset();
            renderClips();

            setTimeout(() => {
                messageDiv.innerHTML = '';
            }, 5000);
        });

        // Render clips
        function renderClips() {
            const container = document.getElementById('clipsContainer');
            if (clips.length === 0) {
                container.innerHTML = '<p style="color: #888;">No clips submitted yet. <button class="tab-button" onclick="switchTab(\'upload\')" style="margin-left: 10px; padding: 8px 16px;">Upload your first clip</button></p>';
                return;
            }

            container.innerHTML = clips.map(clip => `
                <div class="clip-item">
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <div class="clip-title">${clip.title}</div>
                            <span class="status-badge status-${clip.status.toLowerCase().replace('_', '-')}">${clip.status.replace(/_/g, ' ')}</span>
                        </div>
                        <button class="danger-button copy-button" onclick="deleteClip('${clip.id}')">Delete</button>
                    </div>
                    
                    <div class="clip-meta">
                        <div class="meta-field">
                            <span class="meta-label">Year</span>
                            <span class="meta-value">${clip.releaseYear || 'Unknown'}</span>
                        </div>
                        <div class="meta-field">
                            <span class="meta-label">Copyright Holder</span>
                            <span class="meta-value">${clip.copyrightHolder}</span>
                        </div>
                        <div class="meta-field">
                            <span class="meta-label">Duration</span>
                            <span class="meta-value">${clip.endTime - clip.startTime}s (${clip.startTime}s‚Äì${clip.endTime}s)</span>
                        </div>
                        <div class="meta-field">
                            <span class="meta-label">Purpose</span>
                            <span class="meta-value">${clip.purpose.replace(/_/g, ' ')}</span>
                        </div>
                        <div class="meta-field">
                            <span class="meta-label">Submitted</span>
                            <span class="meta-value">${new Date(clip.uploadDate).toLocaleDateString()}</span>
                        </div>
                        <div class="meta-field">
                            <span class="meta-label">Subject</span>
                            <span class="meta-value">${clip.subject || 'General'}</span>
                        </div>
                    </div>

                    <div>
                        <p style="color: #00d4ff; font-weight: 600; margin-bottom: 10px;">Description:</p>
                        <p style="margin-bottom: 15px; line-height: 1.6;">${clip.description}</p>
                    </div>

                    <div>
                        <p style="color: #00d4ff; font-weight: 600; margin-bottom: 10px;">Keywords:</p>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px;">
                            ${clip.keywords.map(kw => `<span style="background: rgba(0, 212, 255, 0.2); color: #00d4ff; padding: 4px 12px; border-radius: 15px; font-size: 0.9em;">${kw}</span>`).join('')}
                        </div>
                    </div>

                    <div>
                        <p style="color: #00d4ff; font-weight: 600; margin-bottom: 10px;">Citation Formats:</p>
                        <div style="margin-bottom: 10px;">
                            <label style="font-size: 0.9em; color: #888;">APA:</label>
                            <div class="citation-box">${clip.citations.APA}</div>
                            <button class="copy-button" onclick="copyCitation('${clip.citations.APA}')">Copy</button>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <label style="font-size: 0.9em; color: #888;">MLA:</label>
                            <div class="citation-box">${clip.citations.MLA}</div>
                            <button class="copy-button" onclick="copyCitation('${clip.citations.MLA}')">Copy</button>
                        </div>
                        <div>
                            <label style="font-size: 0.9em; color: #888;">Chicago:</label>
                            <div class="citation-box">${clip.citations.Chicago}</div>
                            <button class="copy-button" onclick="copyCitation('${clip.citations.Chicago}')">Copy</button>
                        </div>
                    </div>

                    ${clip.dmcaHistory.length > 0 ? `
                        <div class="dmca-notice" style="margin-top: 20px;">
                            <h3>‚ö†Ô∏è DMCA Notices (${clip.dmcaHistory.length})</h3>
                            ${clip.dmcaHistory.map(notice => `
                                <div style="background: rgba(255, 193, 7, 0.05); padding: 15px; margin-top: 10px; border-radius: 4px;">
                                    <p><strong>Claimant:</strong> ${notice.claimant}</p>
                                    <p><strong>Date Received:</strong> ${new Date(notice.dateReceived).toLocaleDateString()}</p>
                                    <p><strong>Reason:</strong> ${notice.reason}</p>
                                    <p><strong>Status:</strong> <span style="color: #ffc107;">${notice.status}</span></p>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function copyCitation(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Citation copied to clipboard!');
            });
        }

        function deleteClip(clipId) {
            if (confirm('Are you sure you want to delete this clip? (This will keep a record in case of DMCA disputes)')) {
                clips = clips.filter(c => c.id !== clipId);
                localStorage.setItem('clipcite_clips', JSON.stringify(clips));
                renderClips();
            }
        }

        // Initial render
        renderClips();
        }); // Close DOMContentLoaded
    </script>
</body>
</html>
